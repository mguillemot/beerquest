<?xml version="1.0"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:ui="com.beerquest.ui.*" width="520" height="320"
           horizontalScrollPolicy="off" verticalScrollPolicy="off">
    <mx:Metadata>
        [Event(name="UiGameStart", type="com.beerquest.ui.events.UiGameStartEvent")]
    </mx:Metadata>
    <mx:Style>
        .start-goal {
            fontFamily: Kro;
            fontSize: 30;
            color: white;
        }

        .start-title {
            fontFamily: Kro;
            fontSize: 48;
            color: white;
        }

        .start-explaination {
            fontFamily: Kro;
            fontSize: 16;
            color: white;
        }

        .start-button {
            fontFamily: Kro;
            color: white;
            text-align: center;
        }
    </mx:Style>
    <mx:Script><![CDATA[
        import com.beerquest.I18n;
        import com.beerquest.ui.events.UiGameStartEvent;
        import com.greensock.TweenLite;

        private function onStart(e:MouseEvent, scoreRaise:int):void {
            if (!_started) {
                TweenLite.to(this, 2, {y:-height});
                dispatchEvent(new UiGameStartEvent(scoreRaise));
                _started = true;
                if (ExternalInterface.available) {
                    try {
                        ExternalInterface.call("gameStarted");
                    } catch (e:SecurityError) {
                        trace("Unable to call gameStarted()");
                    }
                }
            }
        }

        [Bindable]
        public var mode:String;

        [Bindable]
        public var scoreGoal:int;

        private var _started:Boolean = false;
        ]]></mx:Script>
    <mx:Image source="@Embed(source='../../../assets/image/rideau.png')"/>
    <mx:VBox width="100%" horizontalAlign="center" visible="{mode == 'solo'}">
        <mx:Spacer height="100"/>
        <ui:GenericButton width="230" height="122" click="onStart(event, 0)">
            <mx:Label text="{I18n.t('start.play-button')}" styleName="start-button" fontSize="48" width="100%" y="25">
                <mx:filters>
                    <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
                </mx:filters>
            </mx:Label>
        </ui:GenericButton>
    </mx:VBox>
    <mx:VBox width="100%" horizontalAlign="center" verticalGap="0" visible="{mode == 'vs'}">
        <mx:Spacer height="10"/>
        <mx:HBox horizontalGap="3">
            <mx:Label text="{I18n.t('start.goal')} >" styleName="start-goal">
                <mx:filters>
                    <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
                </mx:filters>
            </mx:Label>
            <mx:Image source="@Embed(source='../../../assets/image/collected-beer.png')"/>
            <mx:Label text="{scoreGoal}" styleName="start-goal">
                <mx:filters>
                    <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
                </mx:filters>
            </mx:Label>
        </mx:HBox>
        <mx:Label text="{I18n.t('start.start-challenge')}" styleName="start-title">
            <mx:filters>
                <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
            </mx:filters>
        </mx:Label>
        <mx:Label text="{I18n.t('start.how-much-more.1')}" styleName="start-explaination">
            <mx:filters>
                <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
            </mx:filters>
        </mx:Label>
        <mx:Label text="{I18n.t('start.how-much-more.2')}" styleName="start-explaination">
            <mx:filters>
                <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
            </mx:filters>
        </mx:Label>
        <mx:Spacer height="5"/>
        <mx:HBox horizontalGap="15">
            <ui:GenericButton width="100" height="50" click="onStart(event, 1)">
                <mx:Label text="+1" styleName="start-button" fontSize="28" width="100%" y="2">
                    <mx:filters>
                        <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
                    </mx:filters>
                </mx:Label>
            </ui:GenericButton>
            <ui:GenericButton width="100" height="50" click="onStart(event, 3)">
                <mx:Label text="+3" styleName="start-button" fontSize="28" width="100%" y="2">
                    <mx:filters>
                        <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
                    </mx:filters>
                </mx:Label>
            </ui:GenericButton>
            <ui:GenericButton width="100" height="50" click="onStart(event, 5)">
                <mx:Label text="+5" styleName="start-button" fontSize="28" width="100%" y="2">
                    <mx:filters>
                        <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
                    </mx:filters>
                </mx:Label>
            </ui:GenericButton>
        </mx:HBox>
        <mx:Spacer height="15"/>
        <mx:HBox horizontalGap="15">
            <ui:GenericButton width="100" height="50" click="onStart(event, 10)">
                <mx:Label text="+10" styleName="start-button" fontSize="28" width="100%" y="2">
                    <mx:filters>
                        <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
                    </mx:filters>
                </mx:Label>
            </ui:GenericButton>
            <ui:GenericButton width="100" height="50" click="onStart(event, 15)">
                <mx:Label text="+15" styleName="start-button" fontSize="28" width="100%" y="2">
                    <mx:filters>
                        <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
                    </mx:filters>
                </mx:Label>
            </ui:GenericButton>
            <ui:GenericButton width="100" height="50" click="onStart(event, 20)">
                <mx:Label text="+20" styleName="start-button" fontSize="28" width="100%" y="2">
                    <mx:filters>
                        <mx:DropShadowFilter distance="2" angle="45" blurX="0" blurY="0" alpha="1" color="0x111111"/>
                    </mx:filters>
                </mx:Label>
            </ui:GenericButton>
        </mx:HBox>
    </mx:VBox>
</mx:Canvas>
